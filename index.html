<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liquid Swarm – Yazı Formasyonu</title>
  <style>
    html, body { height: 100%; }
    body { margin: 0; background:#07090c; overflow:hidden; }
    canvas { display:block; width:100vw; height:100vh; }
    .hud{ position:fixed; left:12px; bottom:12px; font:12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color:#8aa0b5; opacity:.7; user-select:none }
  </style>
</head>
<body>
  <canvas id="stage"></canvas>
  <div class="hud">MELİS SENİ<br>CK CK SEVİYORUM</div>

<script>
let canvas=document.getElementById('stage');
let ctx=canvas.getContext('2d');
const TEXT="MELİS SENİ\nCK CK SEVİYORUM";
const rnd=(a=1,b=0)=>Math.random()*(a-b)+b;
const clamp=(v,lo,hi)=>Math.max(lo,Math.min(hi,v));
let particles=[];
let targets=[];
let targetCount=0;
let wander=8;
let fade=0.12;
let assembleP=0;
let assembleDur=4.5;
function setSize(){let w=Math.max(1,Math.floor(window.innerWidth));let h=Math.max(1,Math.floor(window.innerHeight));canvas.width=w;canvas.height=h;}
function backdrop(){let w=canvas.width,h=canvas.height;let g=ctx.createLinearGradient(0,0,0,h);g.addColorStop(0,'#0b0d12');g.addColorStop(.55,'#0a0c11');g.addColorStop(1,'#090b10');ctx.globalCompositeOperation='source-over';ctx.fillStyle=g;ctx.fillRect(0,0,w,h);}
function fitSize(o,lines,W,H){let ok=10;let maxS=Math.max(10,Math.floor(W*0.4));for(let s=10;s<=maxS;s+=2){let wmax=0;o.font=`800 ${s}px system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif`;for(let i=0;i<lines.length;i++){wmax=Math.max(wmax,o.measureText(lines[i]).width);}let total=s*1.0*lines.length;if(wmax<=W*0.9&&total<=H*0.6)ok=s;}return ok;}
function buildTargets(text){let W=canvas.width,H=canvas.height;if(W<2||H<2)return[];let off=document.createElement('canvas');off.width=W;off.height=H;let o=off.getContext('2d');o.clearRect(0,0,W,H);o.textAlign='center';o.textBaseline='middle';o.fillStyle='#fff';let lines=text.split('\n');let size=fitSize(o,lines,W,H);for(let i=0;i<lines.length;i++){o.font=`800 ${size}px system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif`;let y=H*0.45+(i-(lines.length-1)/2)*size*1.2;o.fillText(lines[i],W*0.5,y);}let gap=W<700?2:3;let img=o.getImageData(0,0,W,H).data;let pts=[];for(let y=0;y<H;y+=gap){for(let x=0;x<W;x+=gap){if(img[(y*W+x)*4+3]>128)pts.push({x,y});}}return pts;}
class Particle{constructor(){this.reset();}reset(){let W=canvas.width,H=canvas.height;this.x=rnd(W);this.y=rnd(H);this.vx=rnd(-0.2,0.2);this.vy=rnd(-0.2,0.2);this.sz=rnd(0.6,1.6);this.col=`hsl(${rnd(0,360)},70%,${rnd(55,80)}%)`;this.home=null;}step(dt){if(this.home){let jx=this.home.x+rnd(wander,-wander);let jy=this.home.y+rnd(wander,-wander);let gx=jx-this.x;let gy=jy-this.y;let k=10*assembleP;this.vx+=gx*k*dt;this.vy+=gy*k*dt;}this.vx*=0.92;this.vy*=0.92;let ox=this.x,oy=this.y;this.x+=this.vx*dt*60;this.y+=this.vy*dt*60;ctx.strokeStyle=this.col.replace(')',`,0.22)`).replace('hsl','hsla');ctx.lineWidth=this.sz;ctx.beginPath();ctx.moveTo(ox,oy);ctx.lineTo(this.x,this.y);ctx.stroke();}}
function init(){let L=targets.length;if(!L){setTimeout(()=>{targets=buildTargets(TEXT);init();},50);return;}targetCount=clamp((canvas.width*canvas.height)*0.00025,1500,12000)|0;let need=Math.min(12000,Math.max(targetCount,(L*1.1)|0));particles.length=0;for(let i=0;i<need;i++){let p=new Particle();p.home=targets[i%L];particles.push(p);}assembleP=0;}
function resize(){setSize();backdrop();targets=buildTargets(TEXT);init();}
function frame(){let dt=0.016;assembleP=Math.min(1,assembleP+dt/assembleDur);ctx.globalCompositeOperation='source-over';ctx.fillStyle=`rgba(7,9,12,${fade})`;ctx.fillRect(0,0,canvas.width,canvas.height);ctx.globalCompositeOperation='lighter';ctx.lineCap='round';ctx.lineJoin='round';for(let i=0;i<particles.length;i++)particles[i].step(dt);requestAnimationFrame(frame);} 
window.addEventListener('resize',resize,{passive:true});
setSize();backdrop();targets=buildTargets(TEXT);init();
requestAnimationFrame(frame);
</script>
</body>
</html>
